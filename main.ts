controller.player2.onButtonEvent(ControllerButton.B, ControllerButtonEvent.Pressed, function () {
    ball.follow(player_1)
})
controller.player2.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
	
})
controller.player3.onEvent(ControllerEvent.Connected, function () {
    player_3 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . 4 4 4 4 1 1 4 4 4 4 4 4 4 4 . 
        . 4 4 4 1 4 4 1 4 4 4 4 4 4 4 . 
        . 4 4 4 1 4 4 1 4 4 4 4 4 4 4 . 
        . 4 4 4 4 4 1 4 4 4 4 4 4 4 4 . 
        . 4 4 4 4 4 4 1 4 4 4 4 4 4 4 . 
        . 4 4 4 1 4 4 1 4 4 4 4 4 4 4 . 
        . 4 4 4 4 1 1 4 4 4 4 4 4 4 4 . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    controller.player3.moveSprite(player_3)
})
controller.player1.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
    ball.follow(player_2)
})
controller.player2.onEvent(ControllerEvent.Connected, function () {
    player_2 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . 8 8 8 8 8 8 8 8 8 8 8 . . 
        . . . 8 8 8 8 1 1 1 8 8 8 8 . . 
        . . . 8 8 8 1 8 8 8 1 8 8 8 . . 
        . . . 8 8 1 8 8 8 1 8 8 8 8 . . 
        . . . 8 8 8 8 8 1 8 8 8 8 8 . . 
        . . . 8 8 8 8 1 8 8 8 8 8 8 . . 
        . . . 8 8 8 1 8 8 8 8 8 8 8 . . 
        . . . 8 8 1 8 8 8 8 8 8 8 8 . . 
        . . . 8 8 1 1 1 1 1 1 8 8 8 . . 
        . . . 8 8 8 8 8 8 8 8 8 8 8 . . 
        . . . 8 8 8 8 8 8 8 8 8 8 8 . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    controller.player2.moveSprite(player_2)
})
controller.player1.onEvent(ControllerEvent.Connected, function () {
    scene.setBackgroundImage(img`
        7777777777777777777777777777777777777777771171777777777777777777777777777777777777777777777777777771171111777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777711717777777777777777777777777777777777777777777777777777777111717777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777711717777777777777777777777777777777777777777777777777777777711117777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777711177777777777777777777777777777777777777777777777777777777711717777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777771777777777777777777777777777777777777777777777777777777777771117777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777711177777777777777777777777777777777777777777777777777777777777117777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777717777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777771777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777177777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777711111111111111111111111111111111111111111111111111111111777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777771777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717717777777777777777777777777777777777777777777777777777777777777777777777777777777771777777771777777777777777777777777777777777
        7777777777777777777777777777777717711111111111111111111111111111111111111111111111111111111111111111111111111111111111777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777771111111111777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777771777777777177777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777717777777777717777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777717777777777771777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777177777177777771777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777771777771717777777177777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777771777717771777777717777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777717777177777177777771777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777177777177777177777717777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777717777717771777777717777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777717777771717777777177777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777771777777177777771777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777177777777777771777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777717777777777717777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777717777777777177777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777771777777777177777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777771111111111777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777717777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777771777777777777777777777777777777777
        7777777777777777777777777777777711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111777777777777777777777777777777777
        `)
    player_1 = sprites.create(img`
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 1 1 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 1 2 2 2 2 2 2 2 . 
        . 2 2 2 1 1 1 1 1 1 1 2 2 2 2 . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    ball = sprites.create(assets.image`ball`, SpriteKind.Projectile)
    controller.player1.moveSprite(player_1)
})
let player_2: Sprite = null
let player_3: Sprite = null
let player_1: Sprite = null
let ball: Sprite = null
tiles.setWallAt(tiles.getTileLocation(5, 7), true)
music.play(music.createSong(assets.song`soss`), music.PlaybackMode.LoopingInBackground)
